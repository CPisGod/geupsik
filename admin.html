<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜ê²¬í•¨ ê´€ë¦¬ì</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .login-section {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .login-form {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .login-form input {
            flex: 1;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }

        .login-form input:focus {
            outline: none;
            border-color: #8e7cc3;
        }

        .login-form button {
            background-color: #8e7cc3;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .login-form button:hover {
            background-color: #7b6ba8;
        }

        .feedbacks-section {
            display: none;
        }

        .feedback-count {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .feedback-item {
            background-color: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            transition: box-shadow 0.3s;
        }

        .feedback-item:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e8e8e8;
        }

        .feedback-id {
            font-size: 12px;
            color: #999;
            font-weight: bold;
        }

        .feedback-date {
            font-size: 12px;
            color: #666;
        }

        .feedback-author {
            font-size: 13px;
            color: #8e7cc3;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .feedback-content {
            color: #333;
            line-height: 1.6;
            white-space: pre-wrap;
            margin-bottom: 12px;
        }

        .feedback-link {
            display: inline-block;
            color: #4a90e2;
            font-size: 12px;
            text-decoration: none;
            margin-top: 8px;
        }

        .feedback-link:hover {
            text-decoration: underline;
        }

        .no-feedbacks {
            text-align: center;
            color: #999;
            padding: 40px;
            font-size: 16px;
        }

        .error-message {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .back-button {
            display: inline-block;
            background-color: #8e7cc3;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 8px;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .back-button:hover {
            background-color: #7b6ba8;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš ê¸‰ì‹ ì˜ê²¬í•¨ ê´€ë¦¬ì</h1>
        <p class="subtitle">ì œì¶œëœ ì˜ê²¬ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>

        <div class="login-section">
            <div class="login-form">
                <input type="password" id="password" placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
                <button onclick="login()">ë¡œê·¸ì¸</button>
            </div>
        </div>

        <div class="feedbacks-section" id="feedbacksSection">
            <div class="feedback-count" id="feedbackCount"></div>
            <div id="feedbacksList"></div>
        </div>

        <a href="index.html" class="back-button">â† ê¸‰ì‹ ì•±ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <script>
        const ADMIN_PASSWORD = 'admin';

        function login() {
            const password = document.getElementById('password').value;
            
            if (password !== ADMIN_PASSWORD) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }

            loadFeedbacks();
        }

        async function loadFeedbacks() {
            try {
                const response = await fetch('feedbacks.json');
                
                if (!response.ok) {
                    throw new Error('íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }

                const feedbacks = await response.json();
                displayFeedbacks(feedbacks);
                
                // ë¡œê·¸ì¸ ì„¹ì…˜ ìˆ¨ê¸°ê³  í”¼ë“œë°± ì„¹ì…˜ í‘œì‹œ
                document.querySelector('.login-section').style.display = 'none';
                document.getElementById('feedbacksSection').style.display = 'block';
                
            } catch (error) {
                console.error('Error loading feedbacks:', error);
                alert('ì˜ê²¬ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\n' + error.message);
            }
        }

        function displayFeedbacks(feedbacks) {
            const feedbacksList = document.getElementById('feedbacksList');
            const feedbackCount = document.getElementById('feedbackCount');

            if (feedbacks.length === 0) {
                feedbacksList.innerHTML = '<div class="no-feedbacks">ì•„ì§ ì œì¶œëœ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                feedbackCount.textContent = 'ì´ 0ê°œì˜ ì˜ê²¬';
                return;
            }

            // ìµœì‹  ì˜ê²¬ì´ ìœ„ë¡œ ì˜¤ë„ë¡ ì •ë ¬
            feedbacks.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));

            feedbackCount.textContent = `ì´ ${feedbacks.length}ê°œì˜ ì˜ê²¬`;

            let html = '';
            feedbacks.forEach(feedback => {
                const date = new Date(feedback.created_at).toLocaleString('ko-KR');
                const content = feedback.content.replace(/^## ì œì¶œ ë‚´ìš©\n\n/, '').split('\n\n---\n')[0];
                
                html += `
                    <div class="feedback-item">
                        <div class="feedback-header">
                            <span class="feedback-id">#${feedback.id}</span>
                            <span class="feedback-date">${date}</span>
                        </div>
                        <div class="feedback-author">ì‘ì„±ì: ${feedback.author}</div>
                        <div class="feedback-content">${content}</div>
                        <a href="${feedback.issue_url}" target="_blank" class="feedback-link">GitHubì—ì„œ ë³´ê¸° â†’</a>
                    </div>
                `;
            });

            feedbacksList.innerHTML = html;
        }

        // Enter í‚¤ë¡œ ë¡œê·¸ì¸
        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                login();
            }
        });
    </script>
</body>
</html>
